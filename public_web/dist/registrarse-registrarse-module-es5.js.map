{"version":3,"sources":["webpack:///./src/app/registrarse/registrarse.page.html","webpack:///./src/app/registrarse/registrarse.module.ts","webpack:///./src/app/registrarse/registrarse.page.scss","webpack:///./src/app/registrarse/registrarse.page.ts"],"names":[],"mappings":"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","file":"registrarse-registrarse-module-es5.js","sourcesContent":["module.exports = \"<nb-layout center>\\n\\n    \\n    <nb-layout-column center>\\n\\n\\n        <nb-card accent=\\\"success\\\" [nbSpinner]=\\\"loading\\\"\\n        nbSpinnerStatus=\\\"danger\\\"\\n             nbSpinnerSize=\\\"large\\\">\\n       <nb-card-header >\\n\\n\\n            <h1 id=\\\"title\\\" class=\\\"title\\\">Registrarse</h1>\\n            <p class=\\\"sub-title\\\">Hola! Bienvenidos a Ipsfa en línea.</p>\\n   \\n        </nb-card-header>\\n        <nb-card-body><br>\\n          <div class=\\\"row\\\">\\n                <div class=\\\"col-lg-12\\\">\\n\\n                        \\n                        <form (ngSubmit)=\\\"add('top-right', 'danger', dialog)\\\" #form=\\\"ngForm\\\" aria-labelledby=\\\"title\\\">\\n\\n                            <div class=\\\"form-control-group\\\">\\n                                \\n                                <label class=\\\"label\\\" for=\\\"input-tipo\\\">Tipo:</label>\\n                                <nb-select placeholder=\\\"Seleccioné tipo de afiliado\\\" \\n                                  fullWidth fieldSize=\\\"large\\\" [(ngModel)]=\\\"titular\\\" \\n                                  name=\\\"titular\\\" (selectedChange)=\\\"seleccionarTipo($event)\\\" >\\n                                    <nb-option value=\\\"TIT\\\">Titular</nb-option>\\n                                    <nb-option value=\\\"SOB\\\">Sobreviviente</nb-option>\\n                                    <!-- <nb-option value=\\\"SOB-TIT\\\">Titular - Sobreviviente</nb-option> -->\\n                                </nb-select>\\n                            </div>\\n\\n                                <div class=\\\"form-control-group\\\">\\n                                \\n                                  <label class=\\\"label\\\" for=\\\"input-email\\\">{{ lblcedula }}:</label>\\n                                  <input nbInput\\n                                         fullWidth\\n                                         name=\\\"usuario\\\"\\n                                         id=\\\"input-cedula\\\"\\n                                         placeholder=\\\"{{ lblcedula }}\\\"\\n                                         fieldSize=\\\"large\\\"\\n                                         [(ngModel)]=\\\"usuario\\\" \\n                                         value=\\\"{{usuario}}\\\"\\n                                         autofocus>\\n                                </div>\\n                                \\n\\n                                \\n\\n                                <div class=\\\"form-control-group\\\">\\n                                \\n                                    <label class=\\\"label\\\" for=\\\"input-email\\\">Componente:</label>\\n                                    <nb-select placeholder=\\\"Seleccioné componente de procedencia\\\" \\n                                    [(ngModel)]=\\\"componente\\\" name=\\\"componente\\\" fullWidth fieldSize=\\\"large\\\">\\n                                        <nb-option value=\\\"EJ\\\">Ejercito Bolivariano</nb-option>\\n                                        <nb-option value=\\\"AR\\\">Armada Bolivariana</nb-option>\\n                                        <nb-option value=\\\"AV\\\">Aviación Bolivariana</nb-option>\\n                                        <nb-option value=\\\"GN\\\">Guardia Nacional Bolivariana</nb-option>\\n                                    </nb-select>\\n                                </div>\\n\\n                               <div class=\\\"form-control-group\\\">\\n                                \\n                                    <label class=\\\"label\\\" for=\\\"input-email\\\">Correo Electrónico:</label>\\n                                    <input nbInput\\n                                           fullWidth\\n                                           name=\\\"correo\\\"\\n                                           id=\\\"input-correo\\\"\\n                                           placeholder=\\\"Correo Electrónico\\\"\\n                                           fieldSize=\\\"large\\\"\\n                                           [(ngModel)]=\\\"correo\\\" \\n                                           value=\\\"{{correo}}\\\"\\n                                           autofocus>\\n                                </div>\\n\\n                                <div class=\\\"form-control-group\\\">\\n                                  <span class=\\\"label-with-link\\\">\\n                                    <label class=\\\"label\\\" for=\\\"input-password\\\">Clave:</label>\\n                                    \\n                                  </span>\\n                                  <input nbInput\\n                                         fullWidth\\n                                         name=\\\"clave\\\"\\n                                         type=\\\"password\\\"\\n                                         id=\\\"input-password\\\"\\n                                         placeholder=\\\"Clave\\\"\\n                                         fieldSize=\\\"large\\\"\\n                                         [(ngModel)]=\\\"clave\\\" \\n                                         value=\\\"{{clave}}\\\">\\n                                </div>\\n                                <div class=\\\"form-control-group\\\">\\n                                    <span class=\\\"label-with-link\\\">\\n                                      <label class=\\\"label\\\" for=\\\"input-password\\\">Repetir Clave:</label>\\n                                    </span>\\n                                    <input nbInput\\n                                           fullWidth\\n                                           name=\\\"rclave\\\"\\n                                           type=\\\"password\\\"\\n                                           id=\\\"input-rpassword\\\"\\n                                           placeholder=\\\"Repetir Clave\\\"\\n                                           fieldSize=\\\"large\\\"\\n                                           [(ngModel)]=\\\"rclave\\\" \\n                                           value=\\\"{{rclave}}\\\"\\n                                           >\\n                                  </div>\\n                                \\n                                <br><br>\\n                                <div class=\\\"row\\\">\\n                                    <div class=\\\"col-lg-4\\\">\\n                                        <button nbButton\\n                                        fullWidth\\n                                        status=\\\"\\\"\\n                                        size=\\\"medium\\\"\\n                                        routerLink=\\\"../login\\\">\\n                                        Atrás\\n                                      </button>\\n\\n                                    </div>\\n                                    <div class=\\\"col-lg-4\\\"></div>\\n                                    <div class=\\\"col-lg-4\\\"><button nbButton\\n                                        fullWidth\\n                                        status=\\\"success\\\"\\n                                        size=\\\"medium\\\"\\n                                        [disabled]=\\\"submitted || !form.valid\\\"\\n                                        [class.btn-pulse]=\\\"submitted\\\"\\n                                        [nbSpinner]=\\\"loading\\\" nbSpinnerStatus=\\\"info\\\" \\n                                        nbSpinnerSize=\\\"medium\\\" nbSpinnerMessage=\\\"\\\">\\n                                  Registrate\\n                                </button></div>\\n                                    \\n                                </div>\\n                                \\n                                \\n                              </form>\\n                </div>\\n        </div>\\n      </nb-card-body>\\n        \\n      </nb-card>\\n\\n    </nb-layout-column>\\n    \\n\\n\\n</nb-layout>\\n\\n\\n<ng-template #dialog let-data let-ref=\\\"dialogRef\\\">\\n  <nb-card>\\n    <nb-card-header>Mensaje Ipsfa en linea</nb-card-header>\\n    <nb-card-body>\\n      <br> Se ha registrado correctamente el afiliado. \\n      <br> Bienvenidos a ipsfa en linea\\n    </nb-card-body>\\n    <nb-card-footer>\\n      <button nbButton (click)=\\\"continuar()\\\" status-success>Continuar</button>\\n    </nb-card-footer>\\n  </nb-card>\\n</ng-template>\\n\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router'; // we also need angular router for Nebular to function properly\nimport { \n  NbSidebarModule, \n  NbLayoutModule, \n  NbButtonModule, \n  NbAlertModule, \n  NbCardModule,\n  NbActionsModule,\n  NbCheckboxModule,\n  NbDatepickerModule, NbIconModule,\n  NbInputModule,\n  NbRadioModule,\n  NbSpinnerModule,\n  NbSelectModule,\n  NbUserModule,\n  NbTabsetModule,\n  NbListModule,\n} from '@nebular/theme';\n\nimport { ThemeModule } from '../@theme/theme.module';\n\nimport { RegistrarsePage } from './registrarse.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RegistrarsePage,\n  }\n];\n\n@NgModule({\n  imports: [\n    ThemeModule,\n    CommonModule,\n    NbActionsModule,\n    NbCheckboxModule,\n    NbDatepickerModule, NbIconModule,\n    NbInputModule,\n    NbRadioModule,\n    NbSelectModule,\n    NbSpinnerModule,\n    NbTabsetModule,\n    NbListModule,\n    NbUserModule,\n    FormsModule,\n    RouterModule.forChild(routes),\n    RouterModule, // RouterModule.forRoot(routes, { useHash: true }), if this is your app.module\n    NbLayoutModule,\n    NbSidebarModule, // NbSidebarModule.forRoot(), //if this is your app.module\n    NbButtonModule,\n    NbAlertModule,\n    NbCardModule,\n  ],\n  declarations: [RegistrarsePage]\n})\nexport class RegistrarsePageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3JlZ2lzdHJhcnNlL3JlZ2lzdHJhcnNlLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit, TemplateRef } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { LoginService, IUsuario, IToken } from '../servicios/security/login.service'\nimport { NbToastrService, NbDialogService } from '@nebular/theme';\n// import { MensajeComponent } from '../mensaje/mensaje.component';\n\n@Component({\n  selector: 'app-registrarse',\n  templateUrl: './registrarse.page.html',\n  styleUrls: ['./registrarse.page.scss'],\n})\n\n\nexport class RegistrarsePage implements OnInit {\n\n  iUsuario : IUsuario = {\n    cedula : '',\n    tipo : '',\n    componente : '',\n    clave : '',\n    correo: '',\n  };\n\n\n  redirectDelay: number;\n  showMessages: any;\n  strategy: string;\n  errors: string[];\n  messages: string[];\n  usuario : string;\n  clave: string;\n  rclave: string;\n  correo: string;\n  titular : string;\n  componente : string;\n  submitted: boolean;\n  rememberMe: boolean;\n  lblcedula: string = 'Cédula del titular';\n\n  loading = false;\n  isHidden: boolean = true;\n\n  constructor(\n    private router: Router, \n    private dialogService: NbDialogService,\n    private loginService: LoginService, \n    private toastrService: NbToastrService) { \n  }\n  ngOnInit() {\n  }\n\n  open(dialog : TemplateRef<any>) {\n    this.dialogService.open(dialog, { context: {\n        title: 'Registro Ipsfa en linea',\n      }, });\n  }\n\n  add(position, status, dialog : TemplateRef<any>){\n    this.loading = true;\n    this.iUsuario.cedula = this.usuario;\n    this.iUsuario.tipo = this.titular;\n    this.iUsuario.componente = this.componente;\n    this.iUsuario.clave = this.clave;\n\n    \n    this.iUsuario.correo = this.correo;\n    if ( this.clave != this.rclave ){\n      status = 'danger';\n      this.toastrService.show(\n        'Error en la clave deben ser identicas',\n        `Ipsfa en línea`,\n        { position, status }\n      );\n      this.clave = '';\n      this.rclave = '';\n      this.loading = false;\n      this.isHidden = false;\n      return false;\n    }\n    \n    this.loginService.makeUser(this.iUsuario).subscribe(\n      (data) => { // Success\n        status = 'success';\n        //console.log(data);\n        \n        this.loading = false;\n        this.isHidden = false;\n        \n        if (data.msj != undefined){\n          \n          this.toastrService.show(\n            data.msj,\n            `Ipsfa en línea`,\n            { position, status }\n          );\n          \n        }else {\n          this.toastrService.show(\n            'Ok, proceso exitoso',\n            `Ipsfa en línea`,\n            { position, status }\n          );\n          this.open(dialog);\n        }\n        //this.router.navigate(['login']);\n      },\n      (error) => {\n        //console.log(error.error.msj);\n        this.loading = false;\n        this.isHidden = false;\n        var e = error.error.msj!=undefined?error.error.msj:'Error de conexión';\n        this.toastrService.show(\n          e,\n          `Ipsfa en línea`,\n          { position, status }\n        );\n      }\n    );\n  }\n  continuar(){\n    this.router.navigate(['login']);\n\n  }\n\n  seleccionarTipo(valor : string){\n    switch (valor) {\n      case \"TIT\":\n        this.lblcedula = 'Cédula del titular';\n        break;\n      case \"SOB\":\n        this.lblcedula = 'Cédula del sobreviviente';\n        break;\n      case \"SOB-TIT\":\n        this.lblcedula = 'Cédula del titular - sobreviviente ';\n        break;\n      default:\n        break;\n    }\n  }\n\n}\n\n"],"sourceRoot":""}